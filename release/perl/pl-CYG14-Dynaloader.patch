difforig perl-5.10.x/ext/DynaLoader

diff -u  perl-5.10.x/ext/DynaLoader/DynaLoader_pm.PL.orig
--- perl-5.10.x/ext/DynaLoader/DynaLoader_pm.PL.orig	2008-12-19 09:13:56.000000000 +0000
+++ perl-5.10.x/ext/DynaLoader/DynaLoader_pm.PL	2009-03-24 16:46:59.067250000 +0000
@@ -501,6 +501,7 @@
             # these should be ordered with the most likely first
             push(@names,"$_.$dl_dlext")    unless m/\.$dl_dlext$/o;
             push(@names,"$_.$dl_so")     unless m/\.$dl_so$/o;
+            push(@names,"cyg$_.<<=$dl_so>>")  if !m:/: and $^O eq 'cygwin';
             push(@names,"lib$_.$dl_so")  unless m:/:;
             push(@names,"$_.a")          if !m/\.a$/ and $dlsrc eq "dl_dld.xs";
             push(@names, $_);
diff -u  perl-5.10.x/ext/DynaLoader/Makefile.PL.orig
--- perl-5.10.x/ext/DynaLoader/Makefile.PL.orig	2008-12-19 09:13:56.000000000 +0000
+++ perl-5.10.x/ext/DynaLoader/Makefile.PL	2009-03-24 16:46:59.067250000 +0000
@@ -17,6 +17,15 @@
 			     'XSLoader.pm'},
 );
 
+sub MY::cflags {
+  package MY;
+  my $flags = shift->SUPER::cflags(@_);
+  if ($flags =~ /-DUSEIMPORTLIB/m) {
+    $flags =~ s/-DUSEIMPORTLIB/-UUSEIMPORTLIB/m;
+  }
+  $flags;
+}
+
 sub MY::postamble {
 	'
 DynaLoader.xs: $(DLSRC)
